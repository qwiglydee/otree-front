<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <link rel="stylesheet" href="./main.css"/>
</head>

<body>
  <otree-page trialtimeout="5000" aftertrial="1000">
    <div class="main touchable">
      <otree-stimulus id="aim" delay="0" exposure="1000">⌖</otree-stimulus>

      <otree-stimulus id="prime" delay="1010" exposure="500">
        <otree-text obj="trial" field="prime"></otree-text>
      </otree-stimulus>

      <otree-stimulus id="stimulus" delay="1520">
        <otree-img obj="trial" field="stimulus"></otree-img>
      </otree-stimulus>
      <otree-touch class="left" response="positive"></otree-touch>
      <otree-touch class="right" response="negative"></otree-touch>
      <otree-start keycode="Space">
        <p>To start press <kbd>Space</kbd> or touch the screen.</p>
      </otree-start>
    </div>

    <div class="response">
      <otree-span when="${response}">${response}</otree-span>
      <otree-span when="${feedback}" match="true" class="feedback valid">✔</otree-span>
      <otree-span when="${feedback}" match="false" class="feedback invalid">✘</otree-span>
      <otree-div when="${feedback}" match="timeout">(skipping...)</otree-div>
    </div>

    <otree-div class="progress">
      <progress max="${progress.total}" value="${progress.iteration}" style="width: 100%"></progress>
    </otree-div>

    <otree-key keycode="KeyF" response="positive"></otree-key>
    <otree-key keycode="KeyJ" response="negative"></otree-key>
    <div class="buttons">
      <otree-button response="positive"><button type="button">Positive</button></otree-button>
      <otree-button response="negative"><button type="button">Negative</button></otree-button>
    </div>
    <otree-div when="${errorcode}" match="frozen">Wait for a while...</otree-error>
    <otree-div when="${errorcode}" match="wrongkey">Press <kbd>F</kbd> for <code>Positive</code> or <kbd>J</kbd> for <code>Negative</code></otree-error>

  </otree-page>

  <script type="module" src="../src/jspath.mjs"></script>
  <script type="module" src="../src/timers.mjs"></script>
  <script type="module" src="../src/otree-page.mjs"></script>
  <script type="module" src="../src/otree-start.mjs"></script>
  <script type="module" src="../src/otree-stimulus.mjs"></script>
  <script type="module" src="../src/otree-button.mjs"></script>
  <script type="module" src="../src/otree-touch.mjs"></script>
  <script type="module" src="../src/otree-tmpl.mjs"></script>
  <script type="module" src="../src/otree-img.mjs"></script>
  <script type="module" src="mockdata.js"></script>
  <script type="module" src="main.js"></script>
</body>

</html>
